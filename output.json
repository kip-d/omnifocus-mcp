{"result":{"protocolVersion":"2024-11-05","capabilities":{"tools":{},"prompts":{}},"serverInfo":{"name":"omnifocus-mcp-cached","version":"3.0.0"}},"jsonrpc":"2.0","id":1}
{"result":{"tools":[{"name":"omnifocus_read","description":"Query OmniFocus data with flexible filtering. Returns tasks, projects, tags, perspectives, or folders.\n\nCOMMON QUERIES:\n- Inbox: { query: { type: \"tasks\", filters: { project: null } } }\n- Overdue: { query: { type: \"tasks\", filters: { dueDate: { before: \"now\" }, status: \"active\" } } }\n- Smart suggestions: { query: { type: \"tasks\", mode: \"smart_suggest\", limit: 10 } }\n\nFILTER OPERATORS:\n- tags: { any: [...] } (has any), { all: [...] } (has all), { none: [...] } (has none)\n- dates: { before: \"YYYY-MM-DD\" }, { after: \"...\" }, { between: [\"...\", \"...\"] }\n- text: { contains: \"...\" }, { matches: \"regex\" }\n- logic: { OR: [...] }, { AND: [...] }, { NOT: {...} }\n\nPERFORMANCE:\n- Use fields parameter to select only needed data\n- Set reasonable limits (default: 25)\n- Smart suggest uses scoring: overdue +100, due today +80, flagged +50","inputSchema":{"type":"object","properties":{"query":{"type":"object","properties":{"type":{"type":"string","enum":["tasks","projects","tags","perspectives","folders"]},"filters":{"type":"string"},"fields":{"type":"array","items":{"type":"string","enum":["id","name","completed","flagged","blocked","available","estimatedMinutes","dueDate","deferDate","plannedDate","completionDate","added","modified","dropDate","note","projectId","project","tags","repetitionRule","parentTaskId","parentTaskName","inInbox"]}},"sort":{"type":"array","items":{"type":"object","properties":{"field":{"type":"string","enum":["dueDate","deferDate","plannedDate","name","flagged","estimatedMinutes","added","modified","completionDate"]},"direction":{"type":"string","enum":["asc","desc"]}},"required":["field","direction"]}},"limit":{"type":"number"},"offset":{"type":"number"},"mode":{"type":"string","enum":["all","inbox","search","overdue","today","upcoming","available","blocked","flagged","smart_suggest"]},"details":{"type":"boolean"},"fastSearch":{"type":"boolean"},"daysAhead":{"type":"number"},"countOnly":{"type":"boolean"}},"required":["type"]}},"required":["query"]},"meta":{"category":"Utility","stability":"stable","complexity":"moderate","performanceClass":"fast","tags":["unified","read","query"],"capabilities":["tasks","projects","tags","perspectives","folders","smart_suggest"]},"annotations":{"title":"Query OmniFocus Data","readOnlyHint":true,"destructiveHint":false,"idempotentHint":true,"openWorldHint":true}},{"name":"omnifocus_write","description":"Create, update, complete, or delete OmniFocus tasks and projects.\n\nOPERATIONS:\n- create: New task/project with data\n- update: Modify existing (provide id + changes)\n- complete: Mark done (provide id)\n- delete: Remove permanently (provide id)\n- batch: Multiple operations in one call\n\nBATCH OPERATIONS:\n- tempId: Optional for each item (auto-generated if not provided)\n- parentTempId: Reference parent by tempId for hierarchies\n- createSequentially: true (respects dependencies)\n- returnMapping: true (returns tempId â†’ realId map)\n\nTAG OPERATIONS:\n- tags: [...] - Replace all tags\n- addTags: [...] - Add to existing\n- removeTags: [...] - Remove from existing\n\nDATE FORMATS:\n- Date only: \"YYYY-MM-DD\" (defaults: due=5pm, defer=8am)\n- Date+time: \"YYYY-MM-DD HH:mm\" (local time)\n- Clear date: null\n\nMOVE TO INBOX: Set project: null\n\nSAFETY:\n- Delete is permanent - confirm with user first\n- Batch supports up to 100 operations\n- Tags handled automatically via bridge","inputSchema":{"type":"object","properties":{"mutation":{"oneOf":[{"type":"object","properties":{"operation":{"type":"string","const":"create"},"target":{"type":"string","enum":["task","project"]},"data":{"type":"object","properties":{"name":{"type":"string"},"note":{"type":"string"},"project":{"type":"string"},"parentTaskId":{"type":"string"},"tags":{"type":"array","items":{"type":"string"}},"dueDate":{"type":"string"},"deferDate":{"type":"string"},"plannedDate":{"type":"string"},"flagged":{"type":"boolean"},"estimatedMinutes":{"type":"number"},"repetitionRule":{"type":"object","properties":{"frequency":{"type":"string","enum":["daily","weekly","monthly","yearly"]},"interval":{"type":"number"},"daysOfWeek":{"type":"array","items":{"type":"number"}},"endDate":{"type":"string"}},"required":["frequency","interval"]},"folder":{"type":"string"},"sequential":{"type":"boolean"},"status":{"type":"string","enum":["active","on_hold","completed","dropped"]}},"required":["name"]},"minimalResponse":{"type":"boolean"}},"required":["operation","target","data"]},{"type":"object","properties":{"operation":{"type":"string","const":"update"},"target":{"type":"string","enum":["task","project"]},"id":{"type":"string"},"changes":{"type":"object","properties":{"name":{"type":"string"},"note":{"type":"string"},"tags":{"type":"array","items":{"type":"string"}},"addTags":{"type":"array","items":{"type":"string"}},"removeTags":{"type":"array","items":{"type":"string"}},"dueDate":{"type":"string"},"deferDate":{"type":"string"},"plannedDate":{"type":"string"},"clearDueDate":{"type":"boolean"},"clearDeferDate":{"type":"boolean"},"clearPlannedDate":{"type":"boolean"},"flagged":{"type":"boolean"},"status":{"type":"string","enum":["completed","dropped"]},"project":{"type":"string"},"estimatedMinutes":{"type":"number"},"clearEstimatedMinutes":{"type":"boolean"},"clearRepeatRule":{"type":"boolean"}}},"minimalResponse":{"type":"boolean"}},"required":["operation","target","id","changes"]},{"type":"object","properties":{"operation":{"type":"string","const":"complete"},"target":{"type":"string","enum":["task","project"]},"id":{"type":"string"},"completionDate":{"type":"string"},"minimalResponse":{"type":"boolean"}},"required":["operation","target","id"]},{"type":"object","properties":{"operation":{"type":"string","const":"delete"},"target":{"type":"string","enum":["task","project"]},"id":{"type":"string"}},"required":["operation","target","id"]},{"type":"object","properties":{"operation":{"type":"string","const":"batch"},"target":{"type":"string","enum":["task","project"]},"operations":{"type":"array","items":{"oneOf":[{"type":"object","properties":{"operation":{"type":"string","const":"create"},"target":{"type":"string","enum":["task","project"]},"data":{"type":"object","properties":{"name":{"type":"string"},"note":{"type":"string"},"project":{"type":"string"},"parentTaskId":{"type":"string"},"tags":{"type":"array","items":{"type":"string"}},"dueDate":{"type":"string"},"deferDate":{"type":"string"},"plannedDate":{"type":"string"},"flagged":{"type":"boolean"},"estimatedMinutes":{"type":"number"},"repetitionRule":{"type":"object","properties":{"frequency":{"type":"string","enum":["daily","weekly","monthly","yearly"]},"interval":{"type":"number"},"daysOfWeek":{"type":"array","items":{"type":"number"}},"endDate":{"type":"string"}},"required":["frequency","interval"]},"folder":{"type":"string"},"sequential":{"type":"boolean"},"status":{"type":"string","enum":["active","on_hold","completed","dropped"]},"tempId":{"type":"string"},"parentTempId":{"type":"string"},"reviewInterval":{"type":"number"}},"required":["name"]}},"required":["operation","target","data"]},{"type":"object","properties":{"operation":{"type":"string","const":"update"},"target":{"type":"string","enum":["task","project"]},"id":{"type":"string"},"changes":{"type":"object","properties":{"name":{"type":"string"},"note":{"type":"string"},"tags":{"type":"array","items":{"type":"string"}},"addTags":{"type":"array","items":{"type":"string"}},"removeTags":{"type":"array","items":{"type":"string"}},"dueDate":{"type":"string"},"deferDate":{"type":"string"},"plannedDate":{"type":"string"},"clearDueDate":{"type":"boolean"},"clearDeferDate":{"type":"boolean"},"clearPlannedDate":{"type":"boolean"},"flagged":{"type":"boolean"},"status":{"type":"string","enum":["completed","dropped"]},"project":{"type":"string"},"estimatedMinutes":{"type":"number"},"clearEstimatedMinutes":{"type":"boolean"},"clearRepeatRule":{"type":"boolean"}}}},"required":["operation","target","id","changes"]}],"discriminator":{"propertyName":"operation"}}},"createSequentially":{"type":"string"},"atomicOperation":{"type":"string"},"returnMapping":{"type":"string"},"stopOnError":{"type":"string"}},"required":["operation","target","operations"]},{"type":"object","properties":{"operation":{"type":"string","const":"bulk_delete"},"target":{"type":"string","enum":["task","project"]},"ids":{"type":"array","items":{"type":"string"}}},"required":["operation","target","ids"]}],"discriminator":{"propertyName":"operation"}}},"required":["mutation"]},"meta":{"category":"Task Management","stability":"stable","complexity":"moderate","performanceClass":"fast","tags":["unified","write","mutations"],"capabilities":["create","update","complete","delete","batch"]},"annotations":{"title":"Manage OmniFocus Tasks","readOnlyHint":false,"destructiveHint":true,"idempotentHint":false,"openWorldHint":true}},{"name":"omnifocus_analyze","description":"Analyze OmniFocus data for insights, patterns, and specialized operations.\n\nANALYSIS TYPES:\n- productivity_stats: GTD health metrics (completion rates, velocity)\n- task_velocity: Completion trends over time\n- overdue_analysis: Bottleneck identification\n- pattern_analysis: Database-wide patterns (tags, projects, stale items)\n- workflow_analysis: Deep workflow analysis\n- recurring_tasks: Recurring task patterns and frequencies\n- parse_meeting_notes: Extract action items from meeting notes\n- manage_reviews: Project review operations\n\nPERFORMANCE WARNINGS:\n- pattern_analysis on 1000+ items: ~5-10 seconds\n- workflow_analysis: ~3-5 seconds for comprehensive\n- Most others: <1 second with caching\n\nSCOPE FILTERING:\n- Use dateRange for time-based analysis\n- Use tags/projects to focus analysis","inputSchema":{"type":"object","properties":{"analysis":{"oneOf":[{"type":"object","properties":{"type":{"type":"string","const":"productivity_stats"},"scope":{"type":"object","properties":{"dateRange":{"type":"object","properties":{"start":{"type":"string"},"end":{"type":"string"}},"required":["start","end"]},"tags":{"type":"array","items":{"type":"string"}},"projects":{"type":"array","items":{"type":"string"}},"includeCompleted":{"type":"boolean"},"includeDropped":{"type":"boolean"}}},"params":{"type":"object","properties":{"groupBy":{"type":"string","enum":["day","week","month"]},"metrics":{"type":"array","items":{"type":"string"}}}}},"required":["type"]},{"type":"object","properties":{"type":{"type":"string","const":"task_velocity"},"scope":{"type":"object","properties":{"dateRange":{"type":"object","properties":{"start":{"type":"string"},"end":{"type":"string"}},"required":["start","end"]},"tags":{"type":"array","items":{"type":"string"}},"projects":{"type":"array","items":{"type":"string"}},"includeCompleted":{"type":"boolean"},"includeDropped":{"type":"boolean"}}},"params":{"type":"object","properties":{"groupBy":{"type":"string","enum":["day","week","month"]},"metrics":{"type":"array","items":{"type":"string"}}}}},"required":["type"]},{"type":"object","properties":{"type":{"type":"string","const":"overdue_analysis"},"scope":{"type":"object","properties":{"dateRange":{"type":"object","properties":{"start":{"type":"string"},"end":{"type":"string"}},"required":["start","end"]},"tags":{"type":"array","items":{"type":"string"}},"projects":{"type":"array","items":{"type":"string"}},"includeCompleted":{"type":"boolean"},"includeDropped":{"type":"boolean"}}},"params":{"type":"object","properties":{}}},"required":["type"]},{"type":"object","properties":{"type":{"type":"string","const":"pattern_analysis"},"scope":{"type":"object","properties":{"dateRange":{"type":"object","properties":{"start":{"type":"string"},"end":{"type":"string"}},"required":["start","end"]},"tags":{"type":"array","items":{"type":"string"}},"projects":{"type":"array","items":{"type":"string"}},"includeCompleted":{"type":"boolean"},"includeDropped":{"type":"boolean"}}},"params":{"type":"object","properties":{"insights":{"type":"array","items":{"type":"string"}}}}},"required":["type"]},{"type":"object","properties":{"type":{"type":"string","const":"workflow_analysis"},"scope":{"type":"object","properties":{"dateRange":{"type":"object","properties":{"start":{"type":"string"},"end":{"type":"string"}},"required":["start","end"]},"tags":{"type":"array","items":{"type":"string"}},"projects":{"type":"array","items":{"type":"string"}},"includeCompleted":{"type":"boolean"},"includeDropped":{"type":"boolean"}}},"params":{"type":"object","properties":{}}},"required":["type"]},{"type":"object","properties":{"type":{"type":"string","const":"recurring_tasks"},"scope":{"type":"object","properties":{"dateRange":{"type":"object","properties":{"start":{"type":"string"},"end":{"type":"string"}},"required":["start","end"]},"tags":{"type":"array","items":{"type":"string"}},"projects":{"type":"array","items":{"type":"string"}},"includeCompleted":{"type":"boolean"},"includeDropped":{"type":"boolean"}}},"params":{"type":"object","properties":{"operation":{"type":"string","enum":["analyze","patterns"]},"sortBy":{"type":"string","enum":["nextDue","frequency","name"]}}}},"required":["type"]},{"type":"object","properties":{"type":{"type":"string","const":"parse_meeting_notes"},"params":{"type":"object","properties":{"text":{"type":"string"},"extractTasks":{"type":"boolean"},"defaultProject":{"type":"string"},"defaultTags":{"type":"array","items":{"type":"string"}}},"required":["text"]}},"required":["type","params"]},{"type":"object","properties":{"type":{"type":"string","const":"manage_reviews"},"params":{"type":"object","properties":{"projectId":{"type":"string"},"reviewDate":{"type":"string"}}}},"required":["type"]}],"discriminator":{"propertyName":"type"}}},"required":["analysis"]},"meta":{"category":"Analytics","stability":"stable","complexity":"moderate","performanceClass":"slow","tags":["unified","analyze","analytics"],"capabilities":["productivity_stats","task_velocity","overdue_analysis","pattern_analysis","workflow_analysis","recurring_tasks","parse_meeting_notes","manage_reviews"]},"annotations":{"title":"Analyze OmniFocus Data","readOnlyHint":true,"destructiveHint":false,"idempotentHint":true,"openWorldHint":true}},{"name":"system","description":"System utilities for OmniFocus MCP: get version information, run diagnostics, view performance metrics, or get cache statistics. Use operation=\"version\" for version info, operation=\"diagnostics\" to test OmniFocus connection, operation=\"metrics\" for performance analytics, operation=\"cache\" for cache statistics.","inputSchema":{"type":"object","properties":{"operation":{"type":"string","description":"Operation to perform: get version info, run diagnostics, get performance metrics, or get cache statistics"},"testScript":{"type":"string","description":"Optional custom script to test for diagnostics (defaults to basic list_tasks)"},"metricsType":{"type":"string","description":"Type of metrics to return: summary for overview, detailed for full metrics"}},"required":["operation"]},"meta":{"category":"Utility","stability":"stable","complexity":"simple","performanceClass":"fast","tags":["queries","read-only","diagnostics","system"],"capabilities":["version","diagnostics","metrics","health-check"],"maxResults":null,"maxQueryDuration":5000,"requiresPermission":true,"requiredCapabilities":["read"],"limitations":["Version operation returns build and runtime information","Diagnostics operation tests OmniFocus connection (may add 1-2 seconds)","Metrics operation shows performance statistics and cache hit rates","Cache statistics available but minimal overhead"]},"annotations":{"title":"System Utilities","readOnlyHint":true,"destructiveHint":false,"idempotentHint":true,"openWorldHint":false}}]},"jsonrpc":"2.0","id":2}
